<link rel="import"
      href="bower_components/polymer/polymer.html">

<dom-module id="verified-password">
  <template>
    <style>
      .error {
        color: red;
      }
    </style>
  Password: <input id="pwd" type="text" value="{{pwd::input}}" class$="{{errorClass}}"></input>
  Verify  : <input id="pwdv" type="text" value="{{verified::input}}" class$="{{errorClass}}"></input>
  <div hidden="{{match}}">Passwords do not match!</div>
  </template>
  <script>
    Polymer({
      is: "verified-password",
      properties: {
        match: {
          type: Boolean,
          value: true
        },
        errorClass: {
          type: String
        },
        pwd: {
          type: String,
          observer: '_validate'
        },
        verified: {
          type: String,
          observer: '_validate'
        }
      },
      _validate: function(oldValue, newValue) {
        console.log(oldValue, newValue);
        this.match = (this.pwd === this.verified);
        console.log(this.pwd, this.verified, this.match);
        if (this.match) {
          this.errorClass = 'xxx';
        } else {
          this.errorClass = 'error';
        }
      }
    });
  </script>
</dom-module>
